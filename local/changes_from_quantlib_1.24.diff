diff -ruw ../quantlib/ql/patterns/all.hpp src/ql/patterns/all.hpp
--- ../quantlib/ql/patterns/all.hpp	2016-04-26 21:38:44.000000000 -0500
+++ src/ql/patterns/all.hpp	2021-10-25 15:38:46.638117430 -0500
@@ -1,10 +1,2 @@
-/* This file is automatically generated; do not edit.     */
-/* Add the files to be included into Makefile.am instead. */
-
-#include <ql/patterns/composite.hpp>
-#include <ql/patterns/curiouslyrecurring.hpp>
-#include <ql/patterns/lazyobject.hpp>
 #include <ql/patterns/observable.hpp>
 #include <ql/patterns/singleton.hpp>
-#include <ql/patterns/visitor.hpp>
-
diff -ruw ../quantlib/ql/qldefines.hpp src/ql/qldefines.hpp
--- ../quantlib/ql/qldefines.hpp	2021-08-26 14:47:25.413912944 -0500
+++ src/ql/qldefines.hpp	2021-10-25 15:38:46.638117430 -0500
@@ -37,7 +37,7 @@
 
 #include <boost/config.hpp>
 #include <boost/version.hpp>
-#if BOOST_VERSION < 104800
+#if BOOST_VERSION < 103900
     #error using an old version of Boost, please update.
 #endif
 #if !defined(BOOST_ENABLE_ASSERT_HANDLER)
@@ -87,20 +87,20 @@
     #define QL_DEBUG
 #endif
 
-#if   defined(HAVE_CONFIG_H)    // Dynamically created by configure
-   #include <ql/config.hpp>
-/* Use BOOST_MSVC instead of _MSC_VER since some other vendors (Metrowerks,
-   for example) also #define _MSC_VER
-*/
-#elif defined(BOOST_MSVC)       // Microsoft Visual C++
-   #include <ql/config.msvc.hpp>
-#elif defined(__MINGW32__)      // Minimalistic GNU for Windows
-   #include <ql/config.mingw.hpp>
-#elif defined(__SUNPRO_CC)      // Sun Studio
-   #include <ql/config.sun.hpp>
-#else                           // We hope that the compiler follows ANSI
-   #include <ql/config.ansi.hpp>
-#endif
+// #if   defined(HAVE_CONFIG_H)    // Dynamically created by configure
+//    #include <ql/config.hpp>
+// /* Use BOOST_MSVC instead of _MSC_VER since some other vendors (Metrowerks,
+//    for example) also #define _MSC_VER
+// */
+// #elif defined(BOOST_MSVC)       // Microsoft Visual C++
+//    #include <ql/config.msvc.hpp>
+// #elif defined(__MINGW32__)      // Minimalistic GNU for Windows
+//    #include <ql/config.mingw.hpp>
+// #elif defined(__SUNPRO_CC)      // Sun Studio
+//    #include <ql/config.sun.hpp>
+// #else                           // We hope that the compiler follows ANSI
+//    #include <ql/config.ansi.hpp>
+// #endif
 
 
 // extra debug checks
@@ -123,7 +123,7 @@
 #endif
 
 // ensure that needed math constants are defined
-#include <ql/mathconstants.hpp>
+//#include <ql/mathconstants.hpp>
 
 
 // import global functions into std namespace
@@ -185,36 +185,14 @@
 
 
 // emit warning when using deprecated features
-// clang-format off
 #if defined(BOOST_MSVC)       // Microsoft Visual C++
 #    define QL_DEPRECATED __declspec(deprecated)
-#    define QL_DEPRECATED_DISABLE_WARNING \
-        __pragma(warning(push))           \
-        __pragma(warning(disable : 4996))
-#    define QL_DEPRECATED_ENABLE_WARNING \
-        __pragma(warning(pop))
-#elif defined(__GNUC__)
-#    define QL_DEPRECATED __attribute__((deprecated))
-#    define QL_DEPRECATED_DISABLE_WARNING                               \
-        _Pragma("GCC diagnostic push")                                  \
-        _Pragma("GCC diagnostic ignored \"-Wdeprecated-declarations\"")
-#    define QL_DEPRECATED_ENABLE_WARNING \
-        _Pragma("GCC diagnostic pop")
-#elif defined(__clang__)
+#elif defined(__GNUC__) || defined(__clang__)
 #    define QL_DEPRECATED __attribute__((deprecated))
-#    define QL_DEPRECATED_DISABLE_WARNING                                 \
-        _Pragma("clang diagnostic push")                                  \
-        _Pragma("clang diagnostic ignored \"-Wdeprecated-declarations\"")
-#    define QL_DEPRECATED_ENABLE_WARNING \
-        _Pragma("clang diagnostic pop")
 #else
-// we don't know how to enable it, just define the macros away
+// we don't know how to enable it, just define the macro away
 #    define QL_DEPRECATED
-#    define QL_DEPRECATED_DISABLE_WARNING
-#    define QL_DEPRECATED_ENABLE_WARNING
 #endif
-// clang-format on
-
 
 // until we stop supporting Visual C++ 2013
 #if defined(QL_PATCH_MSVC_2013)
@@ -223,5 +201,4 @@
 #  define QL_NOEXCEPT noexcept
 #endif
 
-
 #endif
diff -ruw ../quantlib/ql/quantlib.hpp src/ql/quantlib.hpp
--- ../quantlib/ql/quantlib.hpp	2020-10-26 07:41:14.542169476 -0500
+++ src/ql/quantlib.hpp	2021-10-25 15:38:46.638117430 -0500
@@ -1,60 +1,21 @@
-/* This file is automatically generated; do not edit.     */
-/* Add the files to be included into Makefile.am instead. */
-
 #include <ql/qldefines.hpp>
-#include <ql/version.hpp>
-#ifdef BOOST_MSVC
-#  include <ql/auto_link.hpp>
-#endif
 
-#include <ql/auto_ptr.hpp>
-#include <ql/cashflow.hpp>
-#include <ql/compounding.hpp>
-#include <ql/currency.hpp>
-#include <ql/default.hpp>
-#include <ql/discretizedasset.hpp>
+// #define QL_USE_STD_SHARED_PTR
+#include <ql/shared_ptr.hpp>
+
+//#include <ql/compounding.hpp>
+//#include <ql/currency.hpp>
 #include <ql/errors.hpp>
-#include <ql/exchangerate.hpp>
-#include <ql/exercise.hpp>
-#include <ql/event.hpp>
-#include <ql/functional.hpp>
-#include <ql/grid.hpp>
-#include <ql/handle.hpp>
-#include <ql/index.hpp>
-#include <ql/instrument.hpp>
-#include <ql/interestrate.hpp>
-#include <ql/money.hpp>
-#include <ql/numericalmethod.hpp>
-#include <ql/option.hpp>
-#include <ql/payoff.hpp>
-#include <ql/position.hpp>
-#include <ql/prices.hpp>
-#include <ql/pricingengine.hpp>
-#include <ql/quote.hpp>
-#include <ql/rebatedexercise.hpp>
+//#include <ql/handle.hpp>
+//#include <ql/mathconstants.hpp>
 #include <ql/settings.hpp>
-#include <ql/shared_ptr.hpp>
-#include <ql/stochasticprocess.hpp>
-#include <ql/termstructure.hpp>
-#include <ql/timegrid.hpp>
-#include <ql/timeseries.hpp>
-#include <ql/tuple.hpp>
+//#include <ql/stochasticprocess.hpp>
+//#include <ql/timegrid.hpp>
 #include <ql/types.hpp>
-#include <ql/volatilitymodel.hpp>
 
-#include <ql/cashflows/all.hpp>
-#include <ql/currencies/all.hpp>
-#include <ql/experimental/all.hpp>
-#include <ql/indexes/all.hpp>
-#include <ql/instruments/all.hpp>
-#include <ql/legacy/all.hpp>
-#include <ql/math/all.hpp>
-#include <ql/methods/all.hpp>
-#include <ql/models/all.hpp>
+//#include <ql/math/all.hpp>
+//#include <ql/methods/all.hpp>
+//#include <ql/models/all.hpp>
 #include <ql/patterns/all.hpp>
-#include <ql/pricingengines/all.hpp>
-#include <ql/processes/all.hpp>
-#include <ql/quotes/all.hpp>
-#include <ql/termstructures/all.hpp>
 #include <ql/time/all.hpp>
 #include <ql/utilities/all.hpp>
diff -ruw ../quantlib/ql/settings.hpp src/ql/settings.hpp
--- ../quantlib/ql/settings.hpp	2021-10-16 15:53:38.424011024 -0500
+++ src/ql/settings.hpp	2021-10-25 15:38:46.638117430 -0500
@@ -26,6 +26,7 @@
 #ifndef quantlib_settings_hpp
 #define quantlib_settings_hpp
 
+#include <ql/errors.hpp>
 #include <ql/patterns/singleton.hpp>
 #include <ql/time/date.hpp>
 #include <ql/utilities/observablevalue.hpp>
diff -ruw ../quantlib/ql/time/all.hpp src/ql/time/all.hpp
--- ../quantlib/ql/time/all.hpp	2016-04-26 21:38:44.000000000 -0500
+++ src/ql/time/all.hpp	2021-10-25 15:38:46.638117430 -0500
@@ -1,12 +1,9 @@
-/* This file is automatically generated; do not edit.     */
-/* Add the files to be included into Makefile.am instead. */
-
 #include <ql/time/asx.hpp>
 #include <ql/time/businessdayconvention.hpp>
 #include <ql/time/calendar.hpp>
 #include <ql/time/date.hpp>
 #include <ql/time/dategenerationrule.hpp>
-#include <ql/time/daycounter.hpp>
+// -- not needed  #include <ql/time/daycounter.hpp>
 #include <ql/time/ecb.hpp>
 #include <ql/time/frequency.hpp>
 #include <ql/time/imm.hpp>
@@ -16,4 +13,4 @@
 #include <ql/time/weekday.hpp>
 
 #include <ql/time/calendars/all.hpp>
-#include <ql/time/daycounters/all.hpp>
+// -- not needed  #include <ql/time/daycounters/all.hpp>
diff -ruw ../quantlib/ql/time/asx.cpp src/ql/time/asx.cpp
--- ../quantlib/ql/time/asx.cpp	2021-08-26 14:47:25.421912874 -0500
+++ src/ql/time/asx.cpp	2021-10-25 15:38:46.638117430 -0500
@@ -24,14 +24,14 @@
 #include <ql/time/asx.hpp>
 #include <ql/settings.hpp>
 #include <ql/utilities/dataparsers.hpp>
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic push
-#pragma GCC diagnostic ignored "-Wunused-local-typedefs"
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic push
+// #pragma GCC diagnostic ignored "-Wunused-local-typedefs"
+// #endif
 #include <boost/algorithm/string/case_conv.hpp>
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic pop
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic pop
+// #endif
 #include <string>
 
 using boost::algorithm::to_upper_copy;
diff -ruw ../quantlib/ql/time/date.cpp src/ql/time/date.cpp
--- ../quantlib/ql/time/date.cpp	2021-08-26 14:47:25.425912839 -0500
+++ src/ql/time/date.cpp	2021-10-25 15:38:46.646117340 -0500
@@ -27,16 +27,16 @@
 #include <ql/time/date.hpp>
 #include <ql/utilities/dataformatters.hpp>
 #include <ql/errors.hpp>
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic push
-#pragma GCC diagnostic ignored "-Wunused-local-typedefs"
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic push
+// #pragma GCC diagnostic ignored "-Wunused-local-typedefs"
+// #endif
 #include <boost/date_time/gregorian/gregorian.hpp>
 #include <boost/date_time/posix_time/posix_time_types.hpp>
 #include <boost/functional/hash.hpp>
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic pop
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic pop
+// #endif
 #include <iomanip>
 #include <ctime>
 
diff -ruw ../quantlib/ql/time/date.hpp src/ql/time/date.hpp
--- ../quantlib/ql/time/date.hpp	2021-08-26 14:47:25.425912839 -0500
+++ src/ql/time/date.hpp	2021-10-25 15:38:46.646117340 -0500
@@ -31,6 +31,7 @@
 #ifndef quantlib_date_hpp
 #define quantlib_date_hpp
 
+#include <ql/errors.hpp>
 #include <ql/time/period.hpp>
 #include <ql/time/weekday.hpp>
 #include <ql/utilities/null.hpp>
diff -ruw ../quantlib/ql/time/ecb.cpp src/ql/time/ecb.cpp
--- ../quantlib/ql/time/ecb.cpp	2021-08-26 14:47:25.425912839 -0500
+++ src/ql/time/ecb.cpp	2021-10-25 15:38:46.646117340 -0500
@@ -21,14 +21,14 @@
 #include <ql/time/ecb.hpp>
 #include <ql/settings.hpp>
 #include <ql/utilities/dataparsers.hpp>
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic push
-#pragma GCC diagnostic ignored "-Wunused-local-typedefs"
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic push
+// #pragma GCC diagnostic ignored "-Wunused-local-typedefs"
+// #endif
 #include <boost/algorithm/string/case_conv.hpp>
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic pop
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic pop
+// #endif
 #include <algorithm>
 #include <string>
 
diff -ruw ../quantlib/ql/time/imm.cpp src/ql/time/imm.cpp
--- ../quantlib/ql/time/imm.cpp	2021-08-26 14:47:25.425912839 -0500
+++ src/ql/time/imm.cpp	2021-10-25 15:38:46.646117340 -0500
@@ -23,14 +23,14 @@
 #include <ql/time/imm.hpp>
 #include <ql/settings.hpp>
 #include <ql/utilities/dataparsers.hpp>
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic push
-#pragma GCC diagnostic ignored "-Wunused-local-typedefs"
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic push
+// #pragma GCC diagnostic ignored "-Wunused-local-typedefs"
+// #endif
 #include <boost/algorithm/string/case_conv.hpp>
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic pop
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic pop
+// #endif
 #include <string>
 
 using boost::algorithm::to_upper_copy;
diff -ruw ../quantlib/ql/utilities/all.hpp src/ql/utilities/all.hpp
--- ../quantlib/ql/utilities/all.hpp	2016-11-14 19:26:53.000000000 -0600
+++ src/ql/utilities/all.hpp	2021-10-25 15:38:46.646117340 -0500
@@ -1,14 +1,7 @@
-/* This file is automatically generated; do not edit.     */
-/* Add the files to be included into Makefile.am instead. */
-
-#include <ql/utilities/clone.hpp>
 #include <ql/utilities/dataformatters.hpp>
 #include <ql/utilities/dataparsers.hpp>
-#include <ql/utilities/disposable.hpp>
+//#include <ql/utilities/disposable.hpp>
 #include <ql/utilities/null.hpp>
-#include <ql/utilities/null_deleter.hpp>
 #include <ql/utilities/observablevalue.hpp>
-#include <ql/utilities/steppingiterator.hpp>
-#include <ql/utilities/tracing.hpp>
-#include <ql/utilities/vectors.hpp>
-
+//#include <ql/utilities/steppingiterator.hpp>
+//#include <ql/utilities/vectors.hpp>
diff -ruw ../quantlib/ql/utilities/dataparsers.cpp src/ql/utilities/dataparsers.cpp
--- ../quantlib/ql/utilities/dataparsers.cpp	2021-08-26 14:47:25.425912839 -0500
+++ src/ql/utilities/dataparsers.cpp	2021-10-25 15:38:46.646117340 -0500
@@ -24,17 +24,17 @@
 #include <ql/utilities/null.hpp>
 #include <ql/time/period.hpp>
 #include <ql/errors.hpp>
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic push
-#pragma GCC diagnostic ignored "-Wunused-local-typedefs"
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic push
+// #pragma GCC diagnostic ignored "-Wunused-local-typedefs"
+// #endif
 #ifndef QL_PATCH_SOLARIS
 #include <boost/algorithm/string/case_conv.hpp>
 #include <boost/date_time/gregorian/gregorian.hpp>
 #endif
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic pop
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic pop
+// #endif
 #include <string>
 #include <locale>
 #include <cctype>
diff -ruw ../quantlib/ql/utilities/null.hpp src/ql/utilities/null.hpp
--- ../quantlib/ql/utilities/null.hpp	2021-08-26 14:47:25.425912839 -0500
+++ src/ql/utilities/null.hpp	2021-10-25 15:38:46.646117340 -0500
@@ -28,16 +28,16 @@
 
 #include <ql/types.hpp>
 
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic push
-#pragma GCC diagnostic ignored "-Wunused-local-typedefs"
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic push
+// #pragma GCC diagnostic ignored "-Wunused-local-typedefs"
+// #endif
 
 #include <boost/type_traits.hpp>
 
-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
-#pragma GCC diagnostic pop
-#endif
+// #if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 8)) || (__GNUC__ > 4))
+// #pragma GCC diagnostic pop
+// #endif
 
 namespace QuantLib {
 
